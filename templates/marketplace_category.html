{% extends "base.html" %}

{% block content %}
<h2>{{ category|replace('_', ' ')|title }} Marketplace</h2>

<div class="product-grid">
    {% for product in products %}
        <div class="product-card">
            <img src="{{ product.image_url }}" alt="{{ product.name }}" class="product-image">
            <h3>{{ product.name }}</h3>
            <p>{{ product.description[:100] }}...</p>
            <p>Price: ${{ "%.2f"|format(product.price) }}</p>
            <a href="{{ url_for('product_detail', product_id=product.id) }}" class="btn btn-primary">View Details</a>
        </div>
    {% else %}
        <p>No products found in this category.</p>
    {% endfor %}
</div>

<a href="{{ url_for('marketplace') }}" class="btn btn-secondary">Back to All Categories</a>
{% endblock %}
