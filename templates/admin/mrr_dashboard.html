{% extends "base.html" %}

{% block content %}
<h2>Monthly Recurring Revenue Dashboard</h2>

<div class="metrics-grid">
    <div class="metric-card">
        <h3>Monthly Recurring Revenue (MRR)</h3>
        <p class="metric-value">${{ "%.2f"|format(mrr) }}</p>
    </div>
    <div class="metric-card">
        <h3>Annual Recurring Revenue (ARR)</h3>
        <p class="metric-value">${{ "%.2f"|format(arr) }}</p>
    </div>
</div>

<div class="data-grid">
    <div class="data-card">
        <h3>Subscription Tier Breakdown</h3>
        <ul>
        {% for tier, count in subscription_breakdown %}
            <li>{{ tier }}: {{ count }} users</li>
        {% endfor %}
        </ul>
    </div>
    <div class="data-card">
        <h3>Revenue by Subscription Tier</h3>
        <ul>
        {% for tier, revenue in revenue_by_tier %}
            <li>{{ tier }}: ${{ "%.2f"|format(revenue) }}</li>
        {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // You can add JavaScript here to create charts using Chart.js
    // For example, you could create a pie chart for subscription breakdown
    // or a bar chart for revenue by tier
</script>
{% endblock %}
